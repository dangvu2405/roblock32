# ğŸ“¦ HÆ¯á»šNG DáºªN CHá»ŒN PHIÃŠN Báº¢N NODE.JS

HÆ°á»›ng dáº«n chá»n vÃ  cÃ i Ä‘áº·t phiÃªn báº£n Node.js phÃ¹ há»£p Ä‘á»ƒ trÃ¡nh lá»—i vá»›i project nÃ y.

---

## âœ… PHIÃŠN Báº¢N KHUYáº¾N NGHá»Š

### ğŸ¯ **Node.js 18.x LTS (Khuyáº¿n nghá»‹ nháº¥t)**

**PhiÃªn báº£n cá»¥ thá»ƒ:**
- **Node.js 18.20.4** (LTS - Long Term Support)
- **Node.js 18.19.0** (LTS)
- Hoáº·c báº¥t ká»³ phiÃªn báº£n **18.20.x** trá»Ÿ lÃªn

**Táº¡i sao:**
- âœ… ÄÆ°á»£c Hardhat 2.19.0 há»— trá»£ tá»‘t
- âœ… TÆ°Æ¡ng thÃ­ch vá»›i React 18 vÃ  react-scripts 5.0.1
- âœ… TÆ°Æ¡ng thÃ­ch vá»›i Ethers.js 6.9.0
- âœ… LTS - á»”n Ä‘á»‹nh vÃ  Ä‘Æ°á»£c há»— trá»£ dÃ i háº¡n
- âœ… KhÃ´ng cÃ³ warning

**Download:**
- https://nodejs.org/en/download/
- Chá»n **"LTS"** (Long Term Support)
- Hiá»‡n táº¡i: **Node.js 18.20.4 LTS**

---

### ğŸ¯ **Node.js 20.x LTS (TÃ¹y chá»n)**

**PhiÃªn báº£n cá»¥ thá»ƒ:**
- **Node.js 20.11.0** (LTS)
- Hoáº·c báº¥t ká»³ phiÃªn báº£n **20.x LTS** trá»Ÿ lÃªn

**Táº¡i sao:**
- âœ… PhiÃªn báº£n má»›i nháº¥t LTS
- âœ… ÄÆ°á»£c Hardhat há»— trá»£
- âœ… TÆ°Æ¡ng thÃ­ch vá»›i táº¥t cáº£ dependencies
- âš ï¸ Má»›i hÆ¡n, cÃ³ thá»ƒ cÃ³ má»™t sá»‘ thay Ä‘á»•i nhá»

**Download:**
- https://nodejs.org/en/download/
- Chá»n **"LTS"** (Long Term Support)

---

## âŒ PHIÃŠN Báº¢N KHÃ”NG KHUYáº¾N NGHá»Š

### âš ï¸ **Node.js 18.15.0** (TrÃ¡nh)

**LÃ½ do:**
- âŒ Hardhat hiá»ƒn thá»‹ warning: "not supported by Hardhat"
- âŒ CÃ³ thá»ƒ gÃ¢y lá»—i khÃ´ng mong muá»‘n
- âŒ KhÃ´ng pháº£i LTS version

**Giáº£i phÃ¡p:**
- Upgrade lÃªn Node.js 18.20.x hoáº·c 20.x LTS

---

### âŒ **Node.js < 16.0.0** (KhÃ´ng há»— trá»£)

**LÃ½ do:**
- âŒ React-scripts 5.0.1 yÃªu cáº§u Node.js >= 14.0.0
- âŒ Hardhat yÃªu cáº§u Node.js >= 16.0.0
- âŒ Ethers.js 6.x yÃªu cáº§u Node.js >= 14.0.0

**Giáº£i phÃ¡p:**
- Upgrade lÃªn Node.js 18.x hoáº·c 20.x LTS

---

### âŒ **Node.js 21.x, 22.x** (TrÃ¡nh)

**LÃ½ do:**
- âš ï¸ PhiÃªn báº£n Current (khÃ´ng pháº£i LTS)
- âš ï¸ CÃ³ thá»ƒ cÃ³ breaking changes
- âš ï¸ ChÆ°a Ä‘Æ°á»£c test ká»¹ vá»›i Hardhat

**Giáº£i phÃ¡p:**
- Sá»­ dá»¥ng LTS version (18.x hoáº·c 20.x)

---

## ğŸ“‹ YÃŠU Cáº¦U Tá»I THIá»‚U

| Component | YÃªu cáº§u Node.js |
|-----------|----------------|
| **Hardhat 2.19.0** | >= 16.0.0 (khuyáº¿n nghá»‹ >= 18.0.0) |
| **React-scripts 5.0.1** | >= 14.0.0 (khuyáº¿n nghá»‹ >= 16.0.0) |
| **Ethers.js 6.9.0** | >= 14.0.0 |
| **Project nÃ y** | **>= 16.0.0 (khuyáº¿n nghá»‹ 18.20.x LTS)** |

---

## ğŸ”§ CÃCH CÃ€I Äáº¶T

### CÃ¡ch 1: Download tá»« Website (ÄÆ¡n giáº£n nháº¥t)

1. Truy cáº­p: https://nodejs.org/en/download/
2. Chá»n **"LTS"** (Long Term Support)
3. Download installer cho Windows:
   - **Windows 64-bit**: `node-v18.20.4-x64.msi`
   - **Windows 32-bit**: `node-v18.20.4-x86.msi`
4. Cháº¡y installer vÃ  lÃ m theo hÆ°á»›ng dáº«n
5. Kiá»ƒm tra cÃ i Ä‘áº·t:
   ```bash
   node --version
   npm --version
   ```

**Káº¿t quáº£ mong Ä‘á»£i:**
```
v18.20.4
10.2.4
```

---

### CÃ¡ch 2: Sá»­ dá»¥ng NVM (Node Version Manager) - Khuyáº¿n nghá»‹

NVM cho phÃ©p quáº£n lÃ½ nhiá»u phiÃªn báº£n Node.js vÃ  chuyá»ƒn Ä‘á»•i dá»… dÃ ng.

#### Windows: NVM for Windows

1. **Download NVM for Windows:**
   - https://github.com/coreybutler/nvm-windows/releases
   - Download `nvm-setup.exe`

2. **CÃ i Ä‘áº·t:**
   - Cháº¡y `nvm-setup.exe`
   - LÃ m theo hÆ°á»›ng dáº«n

3. **CÃ i Ä‘áº·t Node.js 18.20.4:**
   ```bash
   nvm install 18.20.4
   nvm use 18.20.4
   ```

4. **Kiá»ƒm tra:**
   ```bash
   node --version
   npm --version
   ```

#### Linux/Mac: NVM

1. **CÃ i Ä‘áº·t NVM:**
   ```bash
   curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash
   ```

2. **Reload shell:**
   ```bash
   source ~/.bashrc
   # Hoáº·c
   source ~/.zshrc
   ```

3. **CÃ i Ä‘áº·t Node.js 18.20.4:**
   ```bash
   nvm install 18.20.4
   nvm use 18.20.4
   ```

4. **Kiá»ƒm tra:**
   ```bash
   node --version
   npm --version
   ```

**Lá»£i Ã­ch cá»§a NVM:**
- âœ… Dá»… dÃ ng chuyá»ƒn Ä‘á»•i giá»¯a cÃ¡c phiÃªn báº£n Node.js
- âœ… CÃ³ thá»ƒ cÃ i nhiá»u phiÃªn báº£n cÃ¹ng lÃºc
- âœ… KhÃ´ng cáº§n uninstall phiÃªn báº£n cÅ©

---

## ğŸ” KIá»‚M TRA PHIÃŠN Báº¢N HIá»†N Táº I

### Kiá»ƒm tra Node.js version:

```bash
node --version
```

**Káº¿t quáº£ mong Ä‘á»£i:**
```
v18.20.4
```

### Kiá»ƒm tra npm version:

```bash
npm --version
```

**Káº¿t quáº£ mong Ä‘á»£i:**
```
10.2.4
```

---

## ğŸ”„ UPGRADE NODE.JS

### Náº¿u Ä‘ang dÃ¹ng Node.js 18.15.0 hoáº·c phiÃªn báº£n cÅ©:

#### CÃ¡ch 1: Download vÃ  cÃ i Ä‘áº·t má»›i

1. Download Node.js 18.20.4 LTS tá»« https://nodejs.org/
2. Cháº¡y installer
3. Installer sáº½ tá»± Ä‘á»™ng thay tháº¿ phiÃªn báº£n cÅ©

#### CÃ¡ch 2: Sá»­ dá»¥ng NVM (Náº¿u Ä‘Ã£ cÃ i)

```bash
# CÃ i Ä‘áº·t phiÃªn báº£n má»›i
nvm install 18.20.4

# Chuyá»ƒn sang phiÃªn báº£n má»›i
nvm use 18.20.4

# Kiá»ƒm tra
node --version
```

#### CÃ¡ch 3: Uninstall vÃ  cÃ i láº¡i

1. **Uninstall Node.js cÅ©:**
   - Windows: Control Panel â†’ Programs â†’ Uninstall Node.js
   - Hoáº·c dÃ¹ng uninstaller

2. **CÃ i Ä‘áº·t Node.js má»›i:**
   - Download vÃ  cÃ i Ä‘áº·t tá»« https://nodejs.org/

---

## âœ… SAU KHI CÃ€I Äáº¶T

### 1. Kiá»ƒm tra cÃ i Ä‘áº·t:

```bash
node --version
npm --version
```

### 2. XÃ³a node_modules vÃ  cÃ i láº¡i dependencies:

```bash
# XÃ³a node_modules cÅ©
Remove-Item -Recurse -Force node_modules -ErrorAction SilentlyContinue
Remove-Item -Recurse -Force backend/node_modules -ErrorAction SilentlyContinue
Remove-Item -Recurse -Force frontend/node_modules -ErrorAction SilentlyContinue

# XÃ³a package-lock.json
Remove-Item -Force package-lock.json -ErrorAction SilentlyContinue
Remove-Item -Force backend/package-lock.json -ErrorAction SilentlyContinue
Remove-Item -Force frontend/package-lock.json -ErrorAction SilentlyContinue

# CÃ i Ä‘áº·t láº¡i
npm run install-all
```

### 3. Test project:

```bash
# Test compile
npm run compile

# Test cháº¡y
npm run dev
```

---

## ğŸ¯ TÃ“M Táº®T KHUYáº¾N NGHá»Š

### âœ… **NÃªn dÃ¹ng:**
- **Node.js 18.20.4 LTS** (Khuyáº¿n nghá»‹ nháº¥t)
- **Node.js 20.11.0 LTS** (TÃ¹y chá»n)

### âŒ **KhÃ´ng nÃªn dÃ¹ng:**
- Node.js 18.15.0 (cÃ³ warning)
- Node.js < 16.0.0 (khÃ´ng há»— trá»£)
- Node.js 21.x, 22.x (khÃ´ng pháº£i LTS)

### ğŸ“¥ **Download:**
- https://nodejs.org/en/download/
- Chá»n **"LTS"** (Long Term Support)

---

## ğŸ”§ TROUBLESHOOTING

### Lá»—i: "Hardhat was set to use chain id X, but connected to a chain with id Y"

**NguyÃªn nhÃ¢n:** KhÃ´ng liÃªn quan Ä‘áº¿n Node.js version, nhÆ°ng cÃ³ thá»ƒ do Hardhat config

**Giáº£i phÃ¡p:** Xem file `FIX_COMPILE_ERRORS.md`

### Lá»—i: "Module not found" sau khi upgrade Node.js

**Giáº£i phÃ¡p:**
```bash
# XÃ³a node_modules vÃ  cÃ i láº¡i
npm run install-all
```

### Lá»—i: "npm command not found" sau khi cÃ i Node.js

**Giáº£i phÃ¡p:**
1. Restart terminal/command prompt
2. Kiá»ƒm tra PATH environment variable
3. Thá»­ cÃ i láº¡i Node.js

---

## ğŸ“š TÃ€I LIá»†U THAM KHáº¢O

- **Node.js Official:** https://nodejs.org/
- **Node.js LTS Schedule:** https://nodejs.org/en/about/releases/
- **Hardhat Documentation:** https://hardhat.org/
- **NVM for Windows:** https://github.com/coreybutler/nvm-windows
- **NVM (Linux/Mac):** https://github.com/nvm-sh/nvm

---

**ChÃºc báº¡n thÃ nh cÃ´ng! ğŸš€**

